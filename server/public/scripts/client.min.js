var myApp=angular.module("myApp",["ngRoute"]);myApp.config(["$routeProvider",function(a){a.when("/order",{templateUrl:"views/templates/order.html",controller:"OrderController",controllerAs:"order"}).when("/checkout",{templateUrl:"views/templates/checkout.html",controller:"CheckoutController",controllerAs:"checkout"}).when("/confirmation",{templateUrl:"views/templates/confirmation.html",controller:"ConfirmationController",controllerAs:"confirmation"}).otherwise({redirectTo:"order"})}]),myApp.controller("CheckoutController",["DataService",function(a){checkout=this,checkout.confirmPizza=a.confirmPizza,checkout.removePizza=a.removePizza,checkout.orderedPizzas=a.orderedPizzas,checkout.confirmedPizzas=a.confirmedPizzas}]),myApp.controller("ConfirmationController",["DataService",function(a){confirmation=this,confirmation.totalCost=a.totalCost,confirmation.calculateTotal=a.calculateTotal,confirmation.calculateTotal()}]),myApp.controller("OrderController",["DataService",function(a){order=this,order.orderedPizza=a.orderedPizza,order.orderPizza=a.orderPizza,order.toppings=["Cheese","Pepperoni","Canadian Bacon","Sausage","Hawaiin","Supreme"],order.orderedPizza={toppings:[]},order.clearForm=function(){order.orderedPizza.size="",order.toppings.length=0}}]),myApp.factory("DataService",function(){var a={},b={orderedArray:[]},c=function(c){var d=angular.copy(c);b.orderedArray.push(d),a={}},d={confirmedArray:[]},e=function(a,c){d.confirmedArray.push(a),b.orderedArray.splice(c,1)},f=function(a){var c=b.orderedArray.indexOf(a);b.orderedArray.splice(c,1)},g=function(b){switch(b){case"Small":a.price=8;break;case"Medium":a.price=9;break;case"Large":a.price=10;break;case"Extra Large":a.price=11;break;default:a.price=100}var c=document.forms[0],d=c.querySelectorAll(":checked").length;a.price=a.price+d},h=0,i=function(){for(var a=0;a<d.confirmedArray.length;a++)d.confirmedArray[a].price&&(h+=d.confirmedArray[a].price)};return{orderedPizza:a,orderedPizzas:b,orderPizza:c,calculatePrice:g,confirmedPizzas:d,confirmPizza:e,removePizza:f,totalPrice:h,calculateTotal:i}});