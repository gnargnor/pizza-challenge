var myApp=angular.module("myApp",["ngRoute"]);myApp.config(["$routeProvider",function(a){a.when("/order",{templateUrl:"views/templates/order.html",controller:"OrderController",controllerAs:"order"}).when("/checkout",{templateUrl:"views/templates/checkout.html",controller:"CheckoutController",controllerAs:"checkout"}).when("/confirmation",{templateUrl:"views/templates/confirmation.html",controller:"ConfirmationController",controllerAs:"confirmation"}).otherwise({redirectTo:"order"})}]),myApp.controller("CheckoutController",["DataService",function(a){checkout=this,checkout.confirmPizza=a.confirmPizza,checkout.removePizza=a.removePizza,checkout.orderedPizzas=a.orderedPizzas,checkout.confirmedPizzas=a.confirmedPizzas}]),myApp.controller("ConfirmationController",["DataService",function(a){confirmation=this,confirmation.confirmedPizzas=a.confirmedPizzas,confirmation.totalCost=a.totalCost,confirmation.calculateTotal=a.calculateTotal,confirmation.calculateTotal()}]),myApp.controller("OrderController",["DataService",function(a){order=this,order.orderedPizza=a.orderedPizza,order.orderPizza=a.orderPizza,order.orderedPizza.toppings=["Cheese","Pepperoni","Canadian Bacon","Sausage","Hawaiian","Supreme"],order.addedToppings=[],order.addToPizzaToppings=function(a){console.log(a),order.addedToppings.push(a)},order.clearForm=function(){order.orderedPizza.size=""},order.calculatePrice=a.calculatePrice}]),myApp.factory("DataService",["$location",function(a){var b={},c={orderedArray:[]},d=function(a){var d=angular.copy(a);c.orderedArray.push(d),b={}},e={confirmedArray:[]},f=function(){e.confirmedArray=c.orderedArray,a.path("/confirmation")},g=function(a){var b=c.orderedArray.indexOf(a);c.orderedArray.splice(b,1)},h=function(a){switch(console.log(a),a){case"Small":b.price=8;break;case"Medium":b.price=9;break;case"Large":b.price=10;break;case"Extra Large":b.price=11;break;default:b.price=100}var c=document.forms[0],d=c.querySelectorAll(":checked").length;b.price=b.price+d,console.log(b.price);!function(){for(var a=0;a<c.length;a++)c[a].checked&&(c[a].checked=!1)}()},i=0,j=function(){for(var a=0;a<e.confirmedArray.length;a++)e.confirmedArray[a].price&&(i+=e.confirmedArray[a].price)};return{orderedPizza:b,orderedPizzas:c,orderPizza:d,calculatePrice:h,confirmedPizzas:e,confirmPizza:f,removePizza:g,totalPrice:i,calculateTotal:j}}]);